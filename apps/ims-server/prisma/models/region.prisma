model Region {
  id           String      @id @default(uuid())
  name         String      @unique
  translations Json?
  wikiDataId   String?
  subregions   Subregion[]
  countries    Country[]
}

model Subregion {
  id           String    @id @default(uuid())
  name         String    @unique
  translations Json?
  wikiDataId   String?
  regionId     String
  region       Region    @relation(fields: [regionId], references: [id])
  countries    Country[]
}

model Currency {
  id        String    @id @default(uuid())
  code      String    @unique
  name      String?
  symbol    String?
  countries Country[]

  Organization Organization[]
}

model PhoneCode {
  id        String    @id @default(uuid())
  code      String    @unique
  countries Country[]
}

model TimeZone {
  id        String    @id @default(uuid())
  name      String    @unique
  offset    String?
  countries Country[]

  Country Country[] @relation("CountryTimeZones")

  Organization Organization[]
}

model Translation {
  id        String   @id @default(uuid())
  language  String
  value     Json
  countryId String?
  country   Country? @relation(fields: [countryId], references: [id])
}

model Country {
  id           String        @id @default(uuid())
  name         String
  iso3         String?
  iso2         String?       @unique
  numericCode  String?
  capital      String?
  tld          String?
  native       String?
  latitude     String?
  longitude    String?
  emoji        String?
  emojiU       String?
  wikiDataId   String?
  regionId     String?
  subregionId  String?
  currencyId   String?
  phoneCodeId  String?
  region       Region?       @relation(fields: [regionId], references: [id])
  subregion    Subregion?    @relation(fields: [subregionId], references: [id])
  currency     Currency?     @relation(fields: [currencyId], references: [id])
  phoneCode    PhoneCode?    @relation(fields: [phoneCodeId], references: [id])
  timezones    TimeZone[]    @relation("CountryTimeZones")
  translations Translation[]
  states       State[]

  TimeZone TimeZone[]

  City City[]
}

model State {
  id         String  @id @default(uuid())
  name       String
  iso2       String?
  fipsCode   String?
  type       String?
  latitude   String?
  longitude  String?
  wikiDataId String?
  countryId  String
  country    Country @relation(fields: [countryId], references: [id])
  cities     City[]

  Organization Organization[]
}

model City {
  id          String  @id @default(uuid())
  name        String
  stateCode   String?
  countryCode String?
  latitude    String?
  longitude   String?
  wikiDataId  String?
  stateId     String
  countryId   String
  state       State   @relation(fields: [stateId], references: [id])
  country     Country @relation(fields: [countryId], references: [id])
}
